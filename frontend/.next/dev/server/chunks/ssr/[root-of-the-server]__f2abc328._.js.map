{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SAMKIEL/CODEX/Practise/React%20Projects/samkiel-bot-deployment/frontend/lib/auth.js"],"sourcesContent":["import { useState, useEffect, createContext, useContext } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const userData = localStorage.getItem('user');\r\n\r\n    if (token && userData) {\r\n      try {\r\n        const parsedUser = JSON.parse(userData);\r\n        // Verify token with backend\r\n        fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/verify`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (res.ok) {\r\n              setUser(parsedUser);\r\n              console.log('User loaded from localStorage:', parsedUser);\r\n            } else {\r\n              throw new Error('Token invalid');\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.error('Token verification failed:', error);\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('user');\r\n          })\r\n          .finally(() => {\r\n            setLoading(false);\r\n          });\r\n      } catch (error) {\r\n        console.error('Error parsing user data from localStorage:', error);\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      console.log('No token or user data found in localStorage');\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const login = async (identifier, password) => {\r\n    const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ identifier, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      localStorage.setItem('token', data.token);\r\n      localStorage.setItem('user', JSON.stringify(data));\r\n      setUser(data);\r\n      router.push('/dashboard');\r\n      return data;\r\n    } else {\r\n      throw new Error(JSON.stringify(data));\r\n    }\r\n  };\r\n\r\n  const register = async (userData) => {\r\n    const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(userData),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      localStorage.setItem('token', data.token);\r\n      localStorage.setItem('user', JSON.stringify(data));\r\n      setUser(data);\r\n      router.push('/dashboard');\r\n      return data;\r\n    } else {\r\n      throw new Error(JSON.stringify(data));\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    toast.success('Logged out successfully');\r\n    router.push('/');\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    login,\r\n    register,\r\n    logout,\r\n    loading,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,4BAAc,IAAA,oHAAa;AAE1B,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,iHAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,gJAAS;IAExB,IAAA,gHAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,MAAM,WAAW,aAAa,OAAO,CAAC;QAEtC,IAAI,SAAS,UAAU;YACrB,IAAI;gBACF,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,4BAA4B;gBAC5B,MAAM,iEAAmC,YAAY,CAAC,EAAE;oBACtD,SAAS;wBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAClC;gBACF,GACG,IAAI,CAAC,CAAC;oBACL,IAAI,IAAI,EAAE,EAAE;wBACV,QAAQ;wBACR,QAAQ,GAAG,CAAC,kCAAkC;oBAChD,OAAO;wBACL,MAAM,IAAI,MAAM;oBAClB;gBACF,GACC,KAAK,CAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,8BAA8B;oBAC5C,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;gBAC1B,GACC,OAAO,CAAC;oBACP,WAAW;gBACb;YACJ,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8CAA8C;gBAC5D,aAAa,UAAU,CAAC;gBACxB,aAAa,UAAU,CAAC;gBACxB,WAAW;YACb;QACF,OAAO;YACL,QAAQ,GAAG,CAAC;YACZ,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,YAAY;QAC/B,MAAM,WAAW,MAAM,MAAM,iEAAmC,WAAW,CAAC,EAAE;YAC5E,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAY;YAAS;QAC9C;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,SAAS,EAAE,EAAE;YACf,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,QAAQ;YACR,OAAO,IAAI,CAAC;YACZ,OAAO;QACT,OAAO;YACL,MAAM,IAAI,MAAM,KAAK,SAAS,CAAC;QACjC;IACF;IAEA,MAAM,WAAW,OAAO;QACtB,MAAM,WAAW,MAAM,MAAM,iEAAmC,cAAc,CAAC,EAAE;YAC/E,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,SAAS,EAAE,EAAE;YACf,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,QAAQ;YACR,OAAO,IAAI,CAAC;YACZ,OAAO;QACT,OAAO;YACL,MAAM,IAAI,MAAM,KAAK,SAAS,CAAC;QACjC;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,qJAAK,CAAC,OAAO,CAAC;QACd,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,qKAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SAMKIEL/CODEX/Practise/React%20Projects/samkiel-bot-deployment/frontend/components/Navbar.js"],"sourcesContent":["import Link from 'next/link';\r\nimport { useAuth } from '../lib/auth';\r\n\r\nexport default function Navbar() {\r\n  const { user, logout } = useAuth();\r\n\r\n  return (\r\n    <nav className=\"bg-gray-900 p-4 shadow-lg\">\r\n      <div className=\"container mx-auto flex justify-between items-center\">\r\n        <Link href=\"/\" className=\"text-white text-xl font-bold\">\r\n          ùïäùî∏ùïÑùïÇùïÄùîºùïÉ ùîπùïÜùïã\r\n        </Link>\r\n\r\n        <div className=\"space-x-4\">\r\n          <Link href=\"/\" className=\"text-gray-300 hover:text-white transition-colors\">\r\n            Home\r\n          </Link>\r\n          {user ? (\r\n            <>\r\n              <Link href=\"/dashboard\" className=\"text-gray-300 hover:text-white transition-colors\">\r\n                Dashboard\r\n              </Link>\r\n              <button\r\n                onClick={logout}\r\n                className=\"text-gray-300 hover:text-white transition-colors\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link href=\"/login\" className=\"text-gray-300 hover:text-white transition-colors\">\r\n                Login\r\n              </Link>\r\n              <Link href=\"/register\" className=\"text-gray-300 hover:text-white transition-colors\">\r\n                Register\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,2HAAO;IAEhC,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC,4IAAI;oBAAC,MAAK;oBAAI,WAAU;8BAA+B;;;;;;8BAIxD,qKAAC;oBAAI,WAAU;;sCACb,qKAAC,4IAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAmD;;;;;;wBAG3E,qBACC;;8CACE,qKAAC,4IAAI;oCAAC,MAAK;oCAAa,WAAU;8CAAmD;;;;;;8CAGrF,qKAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;yDAKH;;8CACE,qKAAC,4IAAI;oCAAC,MAAK;oCAAS,WAAU;8CAAmD;;;;;;8CAGjF,qKAAC,4IAAI;oCAAC,MAAK;oCAAY,WAAU;8CAAmD;;;;;;;;;;;;;;;;;;;;;;;;;AASlG","debugId":null}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SAMKIEL/CODEX/Practise/React%20Projects/samkiel-bot-deployment/frontend/pages/_app.js"],"sourcesContent":["import '../styles/globals.css';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { AuthProvider } from '../lib/auth';\r\nimport Navbar from '../components/Navbar';\r\n\r\nexport default function App({ Component, pageProps }) {\r\n  return (\r\n    <AuthProvider>\r\n      <Navbar />\r\n      <Component {...pageProps} />\r\n      <Toaster\r\n        position=\"top-right\"\r\n        toastOptions={{\r\n          duration: 4000,\r\n          style: {\r\n            background: '#363636',\r\n            color: '#fff',\r\n          },\r\n        }}\r\n      />\r\n    </AuthProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;;;;;;;;AAEe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;IAClD,qBACE,qKAAC,gIAAY;;0BACX,qKAAC,oIAAM;;;;;0BACP,qKAAC;gBAAW,GAAG,SAAS;;;;;;0BACxB,qKAAC,qJAAO;gBACN,UAAS;gBACT,cAAc;oBACZ,UAAU;oBACV,OAAO;wBACL,YAAY;wBACZ,OAAO;oBACT;gBACF;;;;;;;;;;;;AAIR","debugId":null}}]
}